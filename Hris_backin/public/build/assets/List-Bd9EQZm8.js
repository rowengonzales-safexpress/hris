import{T as g}from"./TrackingLayout-BvqHPuz-.js";import{h as k}from"./@inertiajs-DE7H7qLl.js";import"./moment-T1pcntrQ.js";import{_ as A}from"./SectionTitleLineWithButton-CvP-kldM.js";import{_ as B}from"./BaseButton-YqB03AwT.js";import{_ as C}from"./CardBox-B8VuaoGy.js";import{_ as x}from"./CoreTable.vue_vue_type_style_index_0_lang-D8LkGZdJ.js";import{r as p,b as d,Q as N,x as _,y as a,H as s,I as T,J as l,D as u,K as n,F as w}from"./@vue-DhfKueGL.js";import"./SessionIdle.vue_vue_type_script_setup_true_lang-0Er72HTu.js";import"./AdminPanelNavbar-Bdvrohd_.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./app-VaUb3FJr.js";import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./es-errors-CFxpeikN.js";import"./axios-ngrFHoWO.js";import"./pinia-DPcN--oA.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./object-inspect-CiOUnV34.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./lodash-es-BU332SBD.js";import"./Dropdown-5dMGiR8k.js";import"./DropdownLink-Bo-pNtpR.js";import"./Modal.vue_vue_type_script_setup_true_lang-DpTllPHL.js";import"./FormField-Cnx0pd2b.js";import"./FormControl-C_nPUmK8.js";import"./Footer-D5LPszYR.js";import"./BaseButtons--tE85GFf.js";const I={class:"application-list-container"},V={class:"main-content"},L={key:1,class:"text-gray-500"},Vt={__name:"List",props:{masterlist:{type:[Array,Object],default:()=>[]}},emits:["triggerTopRightButton"],setup(f,{emit:h}){const r=f,m=h;p(null),p(!1);const v=d(()=>{if(console.log("Raw masterlist:",r.masterlist),!r.masterlist)return console.error("Masterlist is undefined or null"),[];let e=[];if(Array.isArray(r.masterlist)?e=r.masterlist:r.masterlist&&typeof r.masterlist=="object"&&(e=r.masterlist.data||[]),!Array.isArray(e))return console.error("Data is not an array:",e),[];const o=e.map(t=>{if(!t)return null;const i={id:t.id||"",branch_id:t.branch_id||"",vehicle_code:t.vehicle_code||"",plate_no:t.plate_no||"",vehicle_type:t.vehicle_type||"",current_status:t.current_status||"",is_active:t.is_active||0,created_at:t.created_at||""};return console.log("Transformed item:",i),i}).filter(t=>t!==null);return console.log("Final transformed list:",o),o}),c=d(()=>v.value),y=e=>{m("triggerTopRightButton","Manage",e)},b=[{label:"Code",fieldName:"vehicle_code",type:"link"},{label:"Plate No",fieldName:"plate_no"},{label:"Type",fieldName:"vehicle_type"},{label:"Status",fieldName:"current_status"},{label:"Active",fieldName:"is_active",type:"slot"},{label:"Created",fieldName:"created_at",type:"datetime"}];return(e,o)=>{const t=N("BaseIcon");return a(),_(w,null,[s(T(k),{title:"Vehicle Info"}),s(g,null,{default:l(()=>[u("div",I,[u("div",V,[s(A,{icon:"mdiListBox",title:"Vehicles",main:""},{default:l(()=>[s(B,{onClick:o[0]||(o[0]=i=>m("triggerTopRightButton","Add")),icon:"mdiFileDocumentPlus",label:"Add Vehicle",color:"contrast","rounded-full":"",small:""})]),_:1}),s(C,{class:"flex-1 p-6","has-table":""},{default:l(()=>[c.value.length>0?(a(),n(x,{key:0,"table-rows":c.value,"table-header":b,"table-name":"vehicles","searchable-fields":"vehicle_code,plate_no,vehicle_type,current_status,is_active,created_at","is-paginated":!0,onOpenLink:y},{"row-action":l(i=>[i.slotProp.is_active==="A"||i.slotProp.is_active===!0||i.slotProp.is_active===1?(a(),n(t,{key:0,path:"mdiCheckCircle",class:"text-green-500",size:"20",title:"Active"})):(a(),n(t,{key:1,path:"mdiCloseCircle",class:"text-red-500",size:"20",title:"Inactive"}))]),_:1},8,["table-rows"])):(a(),_("div",L,"Click Add Vehicle button to create your first record"))]),_:1})])])]),_:1})],64)}}};export{Vt as default};
