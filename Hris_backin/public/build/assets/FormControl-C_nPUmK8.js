import{K as p,y as s,b as d,r as h,o as S,$ as B,x as o,O as y,C as w,P as E,B as g,F as V,z as R,L as q,_ as N,a0 as D,I as K}from"./@vue-DhfKueGL.js";import{d as M}from"./pinia-DPcN--oA.js";import{a as U}from"./axios-ngrFHoWO.js";import{a as $}from"./@mdi-Ds8bXjTD.js";import{_ as F}from"./BaseIcon-BVVkr6PJ.js";const z=M("main",{state:()=>({userName:null,userEmail:null,userAvatar:null,isFieldFocusRegistered:!1,clients:[],history:[]}),actions:{setUser(e){e.name&&(this.userName=e.name),e.email&&(this.userEmail=e.email),e.avatar&&(this.userAvatar=e.avatar)},fetch(e){U.get(`users/${e}`).then(r=>{r.data&&r.data.data&&(this[sampleDataKey]=r.data.data)}).catch(r=>{console.error(r.message)})}}}),A={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(r,a)=>(s(),p(F,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},I={class:"relative"},L=["id","name"],H=["value"],O=["id","name","placeholder","required","maxlength"],T=["id","name","inputmode","autocomplete","required","placeholder","type","min","maxlength","disabled"],W={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean,disabled:Boolean,min:[String,Number],max:[String,Number],inputClass:String,clearable:{type:Boolean,default:!1}},emits:["update:modelValue","setRef"],setup(e,{emit:r}){const a=e,c=r,u=d({get:()=>a.modelValue,set:n=>{c("update:modelValue",n)}}),i=d(()=>a.options?"select":a.type),C=d(()=>a.clearable&&!a.disabled&&u.value&&i.value!=="select"&&i.value!=="textarea"),f=d(()=>{const n=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",i.value==="textarea"?"h-24":"h-12",a.borderless?"border-0":"border",a.transparent?"bg-transparent":"bg-white dark:bg-slate-800",a.disabled?"disabled:opacity-75 bg-gray-100 dark:bg-transparent":"",a.inputClass];return a.icon&&n.push("pl-10"),a.clearable&&n.push("pr-10"),n}),b=d(()=>a.type==="textarea"?"h-full":"h-12"),v=z(),x=h(null),k=h(null),m=h(null);if(S(()=>{x.value?c("setRef",x.value):k.value?c("setRef",k.value):c("setRef",m.value)}),a.ctrlKFocus){const n=l=>{l.ctrlKey&&l.key==="k"?(l.preventDefault(),m.value.focus()):l.key==="Escape"&&m.value.blur()};S(()=>{v.isFieldFocusRegistered||(window.addEventListener("keydown",n),v.isFieldFocusRegistered=!0)}),B(()=>{window.removeEventListener("keydown",n),v.isFieldFocusRegistered=!1})}return(n,l)=>(s(),o("div",I,[i.value==="select"?y((s(),o("select",{key:0,id:e.id,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),name:e.name,class:g(f.value)},[(s(!0),o(V,null,R(e.options,t=>(s(),o("option",{key:t.id??t.value??t,value:t.id??t.value??t},q(t.label??t.text??t),9,H))),128))],10,L)),[[E,u.value]]):i.value==="textarea"?y((s(),o("textarea",{key:1,id:e.id,"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),class:g(e.inputClass?e.inputClass:f.value),name:e.name,placeholder:e.placeholder,required:e.required,maxlength:e.max},null,10,O)),[[N,u.value]]):y((s(),o("input",{key:2,id:e.id,ref_key:"inputEl",ref:m,"onUpdate:modelValue":l[2]||(l[2]=t=>u.value=t),name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:i.value,class:g(f.value),min:e.min,maxlength:e.max,disabled:e.disabled},null,10,T)),[[D,u.value]]),e.icon?(s(),p(A,{key:3,icon:e.icon,h:b.value},null,8,["icon","h"])):w("",!0),C.value?(s(),p(F,{key:4,path:K($),w:"w-10",h:b.value,class:"absolute top-0 right-0 z-10 cursor-pointer text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-200",onClick:l[3]||(l[3]=t=>u.value="")},null,8,["path","h"])):w("",!0)]))}};export{W as _};
