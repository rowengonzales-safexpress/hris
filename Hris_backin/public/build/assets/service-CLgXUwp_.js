import{h as c,a2 as u,x as d,y as m,D as f,L as p,B as y}from"./@vue-DhfKueGL.js";/* empty css                                              */import{_ as g}from"./app-VaUb3FJr.js";class b{constructor(e,t){this.startedAt=Date.now(),this.callback=e,this.delay=t,this.timer=setTimeout(e,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}class x{constructor(){this.queue={}}$on(e,t){this.queue[e]=this.queue[e]||[],this.queue[e].push(t)}$off(e,t){if(this.queue[e]){for(var i=0;i<this.queue[e].length;i++)if(this.queue[e][i]===t){this.queue[e].splice(i,1);break}}}$emit(e,t){this.queue[e]&&this.queue[e].forEach(function(i){i(t)})}}const a=new x,w=r=>{typeof r.remove<"u"?r.remove():r.parentNode.removeChild(r)},l=()=>typeof document<"u"&&document.createElement("div"),v=(r,{props:e,children:t,element:i,app:o}={})=>{let s=i||l(),n=c(r,e,t);return o&&o._context&&(n.appContext=o._context),u(n,s),{vNode:n,destroy:()=>{s&&u(null,s),s=null,n=null},el:s}},h={createElement:l,removeElement:w,mountElement:v},T={name:"toast",props:{message:{type:String,required:!0},type:{type:String,default:"default"},delay:{type:Number,default:4e3},maxToasts:{type:[Number,Boolean],default:5}},data:()=>({parent:null,timer:null,queueTimer:null,transition:"toast-in"}),computed:{animation(){return" animation-"+this.transition},style(){return"flex self-center overflow-hidden rounded-xl cursor-pointer shadow-xl mb-5 pointer-events-auto"},shade(){switch(this.type){case"info":return" bg-blue-500 border-2 border-blue-600 text-white";case"warning":return" bg-orange-600 border-2 border-orange-600 text-white";case"success":return" bg-green-600 border-2 border-green-600 text-white";case"error":return" bg-red-500 border-2 border-red-600 text-white";default:return" bg-gray-50 border-2 border-gray-200"}}},beforeMount(){this.createParent(),this.setupContainer()},mounted(){this.notify(),a.$on("toast-clean",this.close)},methods:{createParent(){this.parent=document.getElementById("_toast_container"),this.parent||(this.parent=document.createElement("div"),this.parent.id="_toast_container",this.parent.className="fixed flex flex-col w-full h-full inset-0 p-10 z-50 pointer-events-none overflow-hidden")},setupContainer(){document.body.appendChild(this.parent)},shouldNotify(){return this.maxToasts!==!1?this.maxToasts<=this.parent.childElementCount:!this.maxToasts},notify(){if(this.shouldNotify()){this.queueTimer=setTimeout(this.notify,250);return}this.parent.insertAdjacentElement("afterbegin",this.$el),this.timer=new b(this.close,this.delay)},click(){this.close()},toggleTimer(r){this.timer&&(r?this.timer.pause():this.timer.resume())},close(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.transition="toast-out",setTimeout(()=>{h.removeElement(this.$el)},250)}},beforeUnmount(){a.$off("toast-clear",this.close)}},q={class:"px-4 py-4 flex justify-between items-start text-lg"};function E(r,e,t,i,o,s){return m(),d("div",{class:y(s.style+s.shade+s.animation),onClick:e[0]||(e[0]=(...n)=>s.click&&s.click(...n)),onMouseover:e[1]||(e[1]=n=>s.toggleTimer(!0)),onMouseleave:e[2]||(e[2]=n=>s.toggleTimer(!1)),role:"alert"},[f("div",q,p(t.message),1)],34)}const _=g(T,[["render",E]]),$=(r={})=>({show(e,t={}){return h.mountElement(_,{props:{...r,message:e,...t}})},success(e,t={}){return t.type="success",this.show(e,t)},error(e,t={}){return t.type="error",this.show(e,t)},info(e,t={}){return t.type="info",this.show(e,t)},warning(e,t={}){return t.type="warning",this.show(e,t)},clear(){a.$emit("toast-clear")}});export{$ as s};
