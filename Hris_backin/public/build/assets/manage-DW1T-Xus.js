import{a as ot,u as et,h as at,r as st}from"./@inertiajs-DE7H7qLl.js";import{A as lt}from"./AdminLayout-8Nvj6Q27.js";import{_ as it}from"./SectionTitleLineWithButton-CvP-kldM.js";import{_ as V}from"./BaseButton-YqB03AwT.js";import{_ as rt}from"./BaseButtons--tE85GFf.js";import{_ as d}from"./FormField-Cnx0pd2b.js";import{_ as m}from"./FormControl-C_nPUmK8.js";import{s as nt}from"./service-CLgXUwp_.js";import{d as dt,r as f,b as mt,w as H,x as u,y as c,H as s,I as r,J as n,D as l,C as A,F as J,z as pt,L as w}from"./@vue-DhfKueGL.js";import{_ as ut}from"./app-VaUb3FJr.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./es-errors-CFxpeikN.js";import"./object-inspect-CiOUnV34.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./axios-ngrFHoWO.js";import"./lodash-es-BU332SBD.js";import"./AdminPanelNavbar-Bdvrohd_.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./Dropdown-5dMGiR8k.js";import"./DropdownLink-Bo-pNtpR.js";import"./Modal.vue_vue_type_script_setup_true_lang-DpTllPHL.js";import"./Footer-D5LPszYR.js";import"./pinia-DPcN--oA.js";/* empty css                                              */import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";const ct={class:"p-4"},ft={key:0,class:"mb-4 text-danger"},gt={class:"grid grid-cols-12 gap-4"},_t={class:"col-span-12 md:col-span-6"},vt={class:"col-span-12 md:col-span-6"},bt={class:"col-span-12"},Vt={class:"col-span-12"},At={class:"col-span-12 md:col-span-6"},ht={class:"col-span-12 md:col-span-6"},kt={class:"col-span-12"},yt={key:0,class:"mt-2"},xt={class:"text-sm text-gray-600"},Ct={key:0,class:"col-span-12"},Lt={class:"logo-preview"},Et=["src"],Ut=dt({__name:"manage",props:{action:String,data:Object,formdata:Object,errors:Object},emits:["triggerTopRightButton"],setup(G,{emit:K}){var C,L,E,U,S,I,R,j,B,D,O,P,$,N,M,T;const i=G,v=f(null),g=f(""),Q=f(),b=f([]),h=nt(),W=ot(),k=mt(()=>{var e;return(e=i.data)!=null&&e.id?"Edit":"Add"}),o=et({_token:W.props.csrf_token,id:((C=i.formdata)==null?void 0:C.id)||((L=i.data)==null?void 0:L.id)||null,code:((E=i.formdata)==null?void 0:E.code)||((U=i.data)==null?void 0:U.code)||"",name:((S=i.formdata)==null?void 0:S.name)||((I=i.data)==null?void 0:I.name)||"",description:((R=i.formdata)==null?void 0:R.description)||((j=i.data)==null?void 0:j.description)||"",status:((B=i.formdata)==null?void 0:B.status)||((D=i.data)==null?void 0:D.status)||"A",status_message:((O=i.formdata)==null?void 0:O.status_message)||((P=i.data)==null?void 0:P.status_message)||"",logo:(($=i.formdata)==null?void 0:$.logo)||((N=i.data)==null?void 0:N.logo)||"",route:((M=i.formdata)==null?void 0:M.route)||((T=i.data)==null?void 0:T.route)||""}),y=[{label:"Active",value:"A"},{label:"Inactive",value:"I"},{label:"Maintenance",value:"M"},{label:"Development",value:"D"}],p=f(null),X=K;H(()=>i.formdata,e=>{e&&(o.id=e.id||null,o.code=e.code||"",o.name=e.name||"",o.description=e.description||"",o.status=e.status||"A",p.value=y.find(t=>t.value===o.status)||null,o.status_message=e.status_message||"",o.logo=e.logo||"",o.route=e.route||"")},{immediate:!0});const Y=()=>{const e=typeof p.value=="object"&&p.value!==null?p.value.value:o.status;o.status=e,o.post("/admin/application",{preserveScroll:!0,onSuccess:()=>{h.success("Application saved"),st.visit("/admin/application")},onError:t=>{b.value=Object.values(t||{}),h.error("Please check the form")}})},x=e=>e==null||e===""?"This field is required":!0,Z=e=>{var _,q;const t=((q=(_=e==null?void 0:e.target)==null?void 0:_.files)==null?void 0:q[0])||v.value;if(!t)return;const a=new FileReader;a.onload=tt=>{var z;g.value=(z=tt.target)==null?void 0:z.result},a.readAsDataURL(t),o.logo=t},F=()=>{o.clearErrors(),o.reset(),g.value="",logoFiles.value=[],Q.value};return H(()=>i.formdata,(e,t)=>{if(e!=t&&e)for(let a in e)e.hasOwnProperty(a)&&(o[a]=e[a])}),(e,t)=>(c(),u(J,null,[s(r(at),{title:"Application Info"}),s(lt,null,{default:n(()=>[s(it,{icon:"mdiListBox",title:k.value==="Add"?"Add New Application":"Application Info",main:""},{default:n(()=>[s(V,{onClick:t[0]||(t[0]=a=>X("triggerTopRightButton","lists")),icon:"mdiViewList",label:"Back to List",color:"contrast","rounded-full":"",small:""})]),_:1},8,["title"]),l("div",ct,[b.value.length?(c(),u("div",ft,[l("ul",null,[(c(!0),u(J,null,pt(b.value,(a,_)=>(c(),u("li",{key:_},w(a),1))),128))])])):A("",!0),l("div",gt,[l("div",_t,[s(d,{label:"Application Code"},{default:n(()=>[s(m,{modelValue:r(o).code,"onUpdate:modelValue":t[1]||(t[1]=a=>r(o).code=a),rules:[x],placeholder:"Enter application code"},null,8,["modelValue","rules"])]),_:1})]),l("div",vt,[s(d,{label:"Application Name"},{default:n(()=>[s(m,{modelValue:r(o).name,"onUpdate:modelValue":t[2]||(t[2]=a=>r(o).name=a),rules:[x],placeholder:"Enter application name"},null,8,["modelValue","rules"])]),_:1})]),l("div",bt,[s(d,{label:"Description"},{default:n(()=>[s(m,{modelValue:r(o).description,"onUpdate:modelValue":t[3]||(t[3]=a=>r(o).description=a),type:"textarea",placeholder:"Enter application description"},null,8,["modelValue"])]),_:1})]),t[9]||(t[9]=l("div",{class:"col-span-12"},[l("h3",{class:"section-title"},"Route Information")],-1)),l("div",Vt,[s(d,{label:"Route"},{default:n(()=>[s(m,{modelValue:r(o).route,"onUpdate:modelValue":t[4]||(t[4]=a=>r(o).route=a),placeholder:"Enter application route"},null,8,["modelValue"])]),_:1})]),t[10]||(t[10]=l("div",{class:"col-span-12"},[l("h3",{class:"section-title"},"Status Information")],-1)),l("div",At,[s(d,{label:"Status"},{default:n(()=>[s(m,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=a=>p.value=a),options:y,placeholder:"Select status"},null,8,["modelValue"])]),_:1})]),l("div",ht,[s(d,{label:"Status Message"},{default:n(()=>[s(m,{modelValue:r(o).status_message,"onUpdate:modelValue":t[6]||(t[6]=a=>r(o).status_message=a),placeholder:"Enter status message"},null,8,["modelValue"])]),_:1})]),t[11]||(t[11]=l("div",{class:"col-span-12"},[l("h3",{class:"section-title"},"Application Logo")],-1)),l("div",kt,[s(d,{label:"Upload Logo"},{default:n(()=>[s(m,{modelValue:v.value,"onUpdate:modelValue":t[7]||(t[7]=a=>v.value=a),type:"file",accept:"image/*",onChange:Z},null,8,["modelValue"])]),_:1}),r(o).logo&&typeof r(o).logo=="string"?(c(),u("div",yt,[l("p",xt,"Current logo: "+w(r(o).logo),1)])):A("",!0)]),g.value?(c(),u("div",Ct,[l("div",Lt,[t[8]||(t[8]=l("h4",{class:"text-lg font-semibold mb-2"},"Logo Preview:",-1)),l("img",{src:g.value,alt:"Logo Preview",class:"max-w-32 max-h-32 object-contain border rounded"},null,8,Et)])])):A("",!0)]),s(rt,{class:"mt-6 justify-end"},{default:n(()=>[s(V,{label:"Reset",color:"lightDark",small:"",onClick:F}),s(V,{label:k.value==="Add"?"Create Application":"Update Application",color:"contrast",small:"",onClick:Y},null,8,["label"])]),_:1})])]),_:1})],64))}}),Lo=ut(Ut,[["__scopeId","data-v-a0b5598d"]]);export{Lo as default};
