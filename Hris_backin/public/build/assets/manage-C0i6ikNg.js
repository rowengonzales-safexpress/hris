import{d as F,r as R,b as ee,w as T,x as c,y as f,H as s,I as i,J as m,D as d,N as te,C as Z,F as _,z as H,L as J,O as oe,P as re}from"./@vue-DhfKueGL.js";import{a as se,u as le,h as ae,r as ie}from"./@inertiajs-DE7H7qLl.js";import{s as de}from"./service-CLgXUwp_.js";import{A as me}from"./AdminLayout-8Nvj6Q27.js";import{_ as ne}from"./SectionTitleLineWithButton-CvP-kldM.js";import{_ as b}from"./BaseButton-YqB03AwT.js";import{_ as u}from"./FormControl-C_nPUmK8.js";import{_ as n}from"./FormField-Cnx0pd2b.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-D55GOIOg.js";import{_ as pe}from"./app-VaUb3FJr.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./es-errors-CFxpeikN.js";import"./object-inspect-CiOUnV34.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./axios-ngrFHoWO.js";import"./lodash-es-BU332SBD.js";/* empty css                                              */import"./AdminPanelNavbar-Bdvrohd_.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./Dropdown-5dMGiR8k.js";import"./DropdownLink-Bo-pNtpR.js";import"./Modal.vue_vue_type_script_setup_true_lang-DpTllPHL.js";import"./Footer-D5LPszYR.js";import"./pinia-DPcN--oA.js";import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";const ue={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},fe={key:0,class:"col-span-full mb-4 text-red-600"},ge=["value"],_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},ve={class:"mb-6"},Ve={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},ye={key:0,class:"mt-4 mb-6"},he={class:"logo-preview"},ke=["src"],xe={class:"flex gap-2 justify-end w-full mt-6"},Se=F({__name:"manage",props:{action:String,data:Object,formdata:Object,errors:Object,clients:Array},emits:["triggerTopRightButton"],setup(q,{emit:G}){var V,y,h,k,x,S,C,P,A,U,z,E,I,w,L,N,j,O,$,B,D,M;const e=q,v=de(),K=se();R();const Q=ee(()=>{var l;return(l=e.data)!=null&&l.id?"Edit":"Add"}),t=le({_token:K.props.csrf_token,id:((V=e.formdata)==null?void 0:V.id)||((y=e.data)==null?void 0:y.id)||null,store_code:((h=e.formdata)==null?void 0:h.store_code)||((k=e.data)==null?void 0:k.store_code)||"",store_name:((x=e.formdata)==null?void 0:x.store_name)||((S=e.data)==null?void 0:S.store_name)||"",email:((C=e.formdata)==null?void 0:C.email)||((P=e.data)==null?void 0:P.email)||"",phone:((A=e.formdata)==null?void 0:A.phone)||((U=e.data)==null?void 0:U.phone)||"",address:((z=e.formdata)==null?void 0:z.address)||((E=e.data)==null?void 0:E.address)||"",city:((I=e.formdata)==null?void 0:I.city)||((w=e.data)==null?void 0:w.city)||"",state_province:((L=e.formdata)==null?void 0:L.state_province)||((N=e.data)==null?void 0:N.state_province)||"",zip_code:((j=e.formdata)==null?void 0:j.zip_code)||((O=e.data)==null?void 0:O.zip_code)||"",status:(($=e.formdata)==null?void 0:$.status)||((B=e.data)==null?void 0:B.status)||"A",client_id:((D=e.formdata)==null?void 0:D.client_id)||((M=e.data)==null?void 0:M.client_id)||null}),g=R([]),W=G;T(()=>e.formdata,l=>{l&&(t.id=l.id||null,t.store_code=l.store_code||"",t.store_name=l.store_name||"",t.email=l.email||"",t.phone=l.phone||"",t.address=l.address||"",t.city=l.city||"",t.state_province=l.state_province||"",t.zip_code=l.zip_code||"",t.status=l.status||"A",t.client_id=l.client_id||null)},{immediate:!0});const X=()=>{({...t},t.post("/admin/tracking/store",{preserveScroll:!0,onSuccess:()=>{v.success("Store successfully saved!"),ie.visit("/admin/tracking/store")},onError:l=>{g.value=Object.values(l||{}),v.error("Error saving store. Please check the form.")}}))},Y=()=>{t.clearErrors(),t.reset()};return T(()=>e.formdata,(l,r)=>{if(l!=r&&l)for(let o in l)l.hasOwnProperty(o)&&(t[o]=l[o])}),(l,r)=>(f(),c(_,null,[s(i(ae),{title:"Application Info"}),s(me,null,{default:m(()=>[s(ne,{icon:"mdiFileDocumentPlus",title:(e.action==="Add"?"Add":"Manage")+" Store",main:""},{default:m(()=>[s(b,{onClick:r[0]||(r[0]=o=>W("triggerTopRightButton","lists")),icon:"mdiViewList",label:"Store Lists",color:"contrast","rounded-full":"",small:""})]),_:1},8,["title"]),d("div",ue,[r[14]||(r[14]=d("h3",{class:"text-xl font-bold mb-4 dark:text-white"},"Application Info",-1)),d("div",null,[d("form",{onSubmit:te(X,["prevent"])},[d("div",ce,[g.value.length?(f(),c("div",fe,[d("ul",null,[(f(!0),c(_,null,H(g.value,(o,a)=>(f(),c("li",{key:a},J(o),1))),128))])])):Z("",!0),s(n,{label:"Client"},{default:m(()=>{var o;return[oe(d("select",{"onUpdate:modelValue":r[1]||(r[1]=a=>i(t).client_id=a),class:"px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full dark:placeholder-gray-400 h-12 border bg-white dark:bg-slate-800 dark:text-white"},[r[10]||(r[10]=d("option",{value:null,disabled:""},"Select Client",-1)),(f(!0),c(_,null,H(e.clients,a=>(f(),c("option",{key:a.id,value:a.id},J(a.client_name),9,ge))),128))],512),[[re,i(t).client_id]]),s(p,{message:(o=e.errors)==null?void 0:o.client_id},null,8,["message"])]}),_:1}),s(n,{label:"Store Code"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).store_code,"onUpdate:modelValue":r[2]||(r[2]=a=>i(t).store_code=a),placeholder:"Store Code"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.store_code},null,8,["message"])]}),_:1})]),d("div",_e,[s(n,{label:"Store Name"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).store_name,"onUpdate:modelValue":r[3]||(r[3]=a=>i(t).store_name=a),placeholder:"Store Name"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.store_name},null,8,["message"])]}),_:1}),s(n,{label:"Email"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).email,"onUpdate:modelValue":r[4]||(r[4]=a=>i(t).email=a),placeholder:"Email"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.email},null,8,["message"])]}),_:1})]),r[12]||(r[12]=d("div",{class:"mt-4 mb-4"},[d("h3",{class:"text-lg font-medium text-blue-600 dark:text-blue-400 border-b pb-2"},"Contact Information")],-1)),d("div",be,[s(n,{label:"Phone"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).phone,"onUpdate:modelValue":r[5]||(r[5]=a=>i(t).phone=a),placeholder:"Phone Number"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.phone},null,8,["message"])]}),_:1})]),r[13]||(r[13]=d("div",{class:"mt-4 mb-4"},[d("h3",{class:"text-lg font-medium text-blue-600 dark:text-blue-400 border-b pb-2"},"Address Information")],-1)),d("div",ve,[s(n,{label:"Address"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).address,"onUpdate:modelValue":r[6]||(r[6]=a=>i(t).address=a),type:"textarea",placeholder:"Enter store address"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.address},null,8,["message"])]}),_:1})]),d("div",Ve,[s(n,{label:"City"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).city,"onUpdate:modelValue":r[7]||(r[7]=a=>i(t).city=a),placeholder:"City"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.city},null,8,["message"])]}),_:1}),s(n,{label:"State/Province"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).state_province,"onUpdate:modelValue":r[8]||(r[8]=a=>i(t).state_province=a),placeholder:"State/Province"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.state_province},null,8,["message"])]}),_:1}),s(n,{label:"ZIP Code"},{default:m(()=>{var o;return[s(u,{modelValue:i(t).zip_code,"onUpdate:modelValue":r[9]||(r[9]=a=>i(t).zip_code=a),placeholder:"ZIP Code"},null,8,["modelValue"]),s(p,{message:(o=e.errors)==null?void 0:o.zip_code},null,8,["message"])]}),_:1})]),l.logoPreview?(f(),c("div",ye,[d("div",he,[r[11]||(r[11]=d("h4",{class:"text-lg font-semibold mb-2 dark:text-white"},"Logo Preview:",-1)),d("img",{src:l.logoPreview,alt:"Logo Preview",class:"max-w-32 max-h-32 object-contain border rounded"},null,8,ke)])])):Z("",!0),d("div",xe,[s(b,{onClick:Y,color:"info",outline:"",label:"Reset"}),s(b,{type:"submit",color:"info",label:Q.value==="Add"?"Create Store":"Update Store",loading:i(t).processing},null,8,["label","loading"])])],32)])])]),_:1})],64))}}),ht=pe(Se,[["__scopeId","data-v-2a13ef66"]]);export{ht as default};
