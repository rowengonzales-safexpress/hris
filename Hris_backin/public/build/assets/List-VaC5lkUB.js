import"./@inertiajs-DE7H7qLl.js";import{_ as B}from"./SectionTitleLineWithButton-CvP-kldM.js";import{_ as R}from"./CardBox-B8VuaoGy.js";import{_ as $}from"./CoreTable.vue_vue_type_style_index_0_lang-D8LkGZdJ.js";import x from"./Details-DA0lrqTS.js";import{_ as C}from"./AsideDrawer-DLoyHTrP.js";import{_ as D}from"./BaseButton-YqB03AwT.js";import"./moment-T1pcntrQ.js";import{_ as L}from"./app-VaUb3FJr.js";import{r as o,b as y,x as b,y as s,H as n,J as c,K as g,C as S,F as H}from"./@vue-DhfKueGL.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./es-errors-CFxpeikN.js";import"./object-inspect-CiOUnV34.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./axios-ngrFHoWO.js";import"./lodash-es-BU332SBD.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./BaseButtons--tE85GFf.js";import"./FormControl-C_nPUmK8.js";import"./pinia-DPcN--oA.js";import"./FormField-Cnx0pd2b.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./laravel-vite-plugin-DEL3ZhID.js";const F={key:1,class:"text-gray-500"},E={__name:"List",props:{masterlist:{type:[Array,Object],default:()=>[]},trackingTypes:{type:Array,default:()=>[]},trackingStatuses:{type:Array,default:()=>[]}},emits:["triggerTopRightButton"],setup(m,{emit:k}){const a=m,u=k,i=o(!1),l=o(null);o(!1);const v=y(()=>{if(console.log("Raw masterlist:",a.masterlist),!a.masterlist)return console.error("Masterlist is undefined or null"),[];let r=[];if(Array.isArray(a.masterlist)?r=a.masterlist:a.masterlist&&typeof a.masterlist=="object"&&(r=a.masterlist.data||[]),!Array.isArray(r))return console.error("Data is not an array:",r),[];const t=r.map(e=>{var _,f;if(!e)return null;const d={id:e.id||"",warehouse_id:e.warehouse_id||"",tracking_number:e.tracking_number||"",reference_number:e.reference_number||"",tracking_type:((_=e.tracking_type)==null?void 0:_.type_name)||"",current_status:((f=e.current_status)==null?void 0:f.status_name)||"",estimated_delivery_date:e.estimated_delivery_date||"",current_location:e.current_location||"",priority_level:e.priority_level||"",is_active:e.is_active||0,created_at:e.created_at||""};return console.log("Transformed item:",d),d}).filter(e=>e!==null);return console.log("Final transformed list:",t),t}),T=()=>{i.value=!1,l.value=null},h=()=>{i.value=!1,l.value=null},w=(r,t)=>{i.value=!1,l.value=null,u("triggerTopRightButton",r,t)},p=y(()=>v.value),A=r=>{l.value=r,i.value=!0},N=[{label:"Tracking #",fieldName:"tracking_number",type:"link"},{label:"Reference #",fieldName:"reference_number"},{label:"Type",fieldName:"tracking_type"},{label:"Status",fieldName:"current_status"},{label:"Location",fieldName:"current_location"},{label:"Priority",fieldName:"priority_level"},{label:"Est. Delivery",fieldName:"estimated_delivery_date",type:"datetime"},{label:"Active",fieldName:"is_active",type:"activeinactive"},{label:"Created",fieldName:"created_at",type:"datetime"}];return o([{key:"tracking_number",label:"Tracking Number",sortable:!0,clickable:!0},{key:"reference_number",label:"Reference",sortable:!0},{key:"tracking_type",label:"Type",sortable:!0},{key:"current_status",label:"Status",sortable:!0},{key:"current_location",label:"Location",sortable:!0},{key:"priority_level",label:"Priority",sortable:!0},{key:"estimated_delivery_date",label:"Est. Delivery",sortable:!0},{key:"is_active",label:"Active",sortable:!0},{key:"created_at",label:"Created At",sortable:!0},{key:"actions",label:"Actions",sortable:!1}]),(r,t)=>(s(),b(H,null,[n(B,{icon:"mdiListBox",title:"Tracker",main:""},{default:c(()=>[n(D,{onClick:t[0]||(t[0]=e=>u("triggerTopRightButton","Add")),icon:"mdiFileDocumentPlus",label:"Add Tracker",color:"contrast","rounded-full":"",small:""})]),_:1}),n(R,{class:"flex-1 p-6","has-table":""},{default:c(()=>[p.value.length>0?(s(),g($,{key:0,"table-rows":p.value,"table-header":N,"table-name":"tracking-headers","searchable-fields":"tracking_number,reference_number,tracking_type,current_status,current_location,priority_level,estimated_delivery_date,created_at","is-paginated":!0,onOpenLink:A},null,8,["table-rows"])):(s(),b("div",F,"No tracking headers found"))]),_:1}),n(C,{title:"Tracking Header Details","is-open":i.value,onCloseDrawer:t[2]||(t[2]=e=>i.value=!1),class:"shadow-lg shadow-blue-500/50"},{default:c(()=>[l.value?(s(),g(x,{key:0,data:l.value,"tracking-types":m.trackingTypes,"tracking-statuses":m.trackingStatuses,"is-new":l.value.id===0,onClose:t[1]||(t[1]=e=>i.value=!1),onSave:T,onUpdate:h,onTriggerTopRightButton:w},null,8,["data","tracking-types","tracking-statuses","is-new"])):S("",!0)]),_:1},8,["is-open"])],64))}},Ce=L(E,[["__scopeId","data-v-2e9950d0"]]);export{Ce as default};
