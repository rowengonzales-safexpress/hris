function C(n,t){n.style.opacity&&n.style.opacity>.05?n.style.opacity=n.style.opacity-.05:n.style.opacity&&n.style.opacity<=.1?n.parentNode&&(n.parentNode.removeChild(n),t&&t()):n.style.opacity=.9,setTimeout(()=>C.apply(this,[n,t]),1e3/30)}const r="mini-toastr",p="error",f="warn",u="success",h="info",l=r,$=`${r}__notification`,m=`${r}-notification__title`,y=`${r}-notification__icon`,E=`${r}-notification__message`,N=`-${p}`,T=`-${f}`,A=`-${u}`,_=`-${h}`,I=3e3,O="";function b(n,t,o){t=t||{},o=o||O;for(const e in n)if(n.hasOwnProperty(e)){const s=n[e];s&&typeof s=="object"&&!(s instanceof Date||s instanceof RegExp)?b(s,t,o+e+" "):(t[o]&&typeof t[o]=="object"||(t[o]={}),t[o][e]=s)}return t}function x(n){const t=b(n);let o=JSON.stringify(t,null,2);return o=o.replace(/"([^"]*)": {/g,"$1 {").replace(/"([^"]*)"/g,"$1").replace(/(\w*-?\w*): ([\w\d .#]*),?/g,"$1: $2;").replace(/},/g,`}
`).replace(/ &([.:])/g,"$1"),o=o.substr(1,o.lastIndexOf("}")-1),o}function L(n){let t=document.head||document.getElementsByTagName("head")[0],o=d("style");o.id=`${r}-styles`,o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),t.appendChild(o)}const g={types:{ERROR:p,WARN:f,SUCCESS:u,INFO:h},animation:C,timeout:I,icons:{},appendTarget:document.body,node:d(),allowHtml:!1,style:{[`.${l}`]:{position:"fixed","z-index":99999,right:"12px",top:"12px"},[`.${$}`]:{cursor:"pointer",padding:"12px 18px",margin:"0 0 6px 0","background-color":"#000",opacity:.8,color:"#fff","border-radius":"3px","box-shadow":"#3c3b3b 0 0 12px",width:"300px",[`&.${N}`]:{"background-color":"#D5122B"},[`&.${T}`]:{"background-color":"#F5AA1E"},[`&.${A}`]:{"background-color":"#7AC13E"},[`&.${_}`]:{"background-color":"#4196E1"},"&:hover":{opacity:1,"box-shadow":"#000 0 0 12px"}},[`.${m}`]:{"font-weight":"500"},[`.${E}`]:{display:"inline-block","vertical-align":"middle",width:"240px",padding:"0 12px"}}};function d(n="div"){return document.createElement(n)}function k(n,t,o){const e=d(o.icons[t].nodeType),s=o.icons[t].attrs;for(const a in s)s.hasOwnProperty(a)&&e.setAttribute(a,s[a]);n.appendChild(e)}function S(n,t,o,e){const s=d();s.className=o,e.allowHtml?s.innerHTML=t:s.appendChild(document.createTextNode(t)),n.appendChild(s)}function R(n){return n===u?A:n===f?T:n===p?N:n===h?_:O}const M={config:g,isInitialised:!1,showMessage(n,t,o,e,s,a){const i={};Object.assign(i,this.config),Object.assign(i,a);const c=d();return c.className=`${$} ${R(o)}`,c.onclick=function(){i.animation(c,null)},t&&S(c,t,m,i),i.icons[o]&&k(c,o,i),n&&S(c,n,E,i),i.node.insertBefore(c,i.node.firstChild),setTimeout(()=>i.animation(c,s),e||i.timeout),s&&s(),this},init(n){const t={};Object.assign(t,g),Object.assign(t,n),this.config=t;const o=x(t.style);return L(o),t.node.id=l,t.node.className=l,t.appendTarget.appendChild(t.node),Object.keys(t.types).forEach(e=>{this[t.types[e]]=(function(s,a,i,c,w){return this.showMessage(s,a,t.types[e],i,c,w),this}).bind(this)}),this.isInitialised=!0,this},setIcon(n,t="i",o=[]){o.class=o.class?o.class+" "+y:y,this.config.icons[n]={nodeType:t,attrs:o}}};export{M as m};
