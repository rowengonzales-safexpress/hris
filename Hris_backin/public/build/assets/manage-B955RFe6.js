import{r as E,w as _,K as B,y as n,J as l,D as i,H as o,L as g,N as A,x as p,C,F as N,z as S,I as a}from"./@vue-DhfKueGL.js";import{A as $}from"./AdminLayout-8Nvj6Q27.js";import{a as U,u as j,r as L}from"./@inertiajs-DE7H7qLl.js";import{_ as O}from"./CardBox-B8VuaoGy.js";import{_ as c}from"./FormField-Cnx0pd2b.js";import{_ as b}from"./FormControl-C_nPUmK8.js";import{_ as P}from"./Checkbox-DBVwD7bY.js";import{_ as u}from"./BaseButton-YqB03AwT.js";import{s as T}from"./service-CLgXUwp_.js";import"./AdminPanelNavbar-Bdvrohd_.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./app-VaUb3FJr.js";import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./es-errors-CFxpeikN.js";import"./axios-ngrFHoWO.js";import"./pinia-DPcN--oA.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./object-inspect-CiOUnV34.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./lodash-es-BU332SBD.js";import"./Dropdown-5dMGiR8k.js";import"./DropdownLink-Bo-pNtpR.js";import"./Modal.vue_vue_type_script_setup_true_lang-DpTllPHL.js";import"./Footer-D5LPszYR.js";/* empty css                                              */const z={class:"w-full max-w-4xl mx-auto"},H={class:"mb-6"},I={class:"text-2xl font-bold text-gray-700 dark:text-gray-200"},J={key:0,class:"mb-4 text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/50 p-3 rounded"},K={class:"list-disc list-inside"},M={class:"grid grid-cols-1 gap-6 mb-6"},q={class:"flex items-center"},F={class:"flex items-center justify-start space-x-4 mt-8"},Kt={__name:"manage",props:{action:String,formdata:Object},emits:["triggerTopRightButton"],setup(x,{emit:k}){const s=x,v=k,h=U(),f=T(),t=j({_token:h.props.csrf_token,id:null,name:"",description:"",status:!0}),d=E([]);s.formdata&&(t.id=s.formdata.id||null,t.name=s.formdata.name||"",t.description=s.formdata.description||"",t.status=s.formdata.status||""),_(()=>s.formdata,e=>{e&&(t.id=e.id||null,t.name=e.name||"",t.description=e.description||"",t.status=e.status||"")},{immediate:!0});const y=()=>{t.post("/admin/role",{preserveScroll:!0,onSuccess:()=>{f.success("Role successfully saved!"),L.visit("/admin/role")},onError:e=>{d.value=Object.values(e||{}),f.error("Error saving role. Please check the form.")}})},R=()=>{t.reset(),t.clearErrors()};return _(()=>s.formdata,e=>{e&&(t.id=e.id||null,t.name=e.name||"",t.description=e.description||"",t.status=e.status!==void 0?e.status:!0,t.permissions=e.permissions||[])},{deep:!0}),(e,r)=>(n(),B($,null,{default:l(()=>[i("div",z,[o(O,null,{default:l(()=>[i("div",H,[i("h1",I,g(s.action==="Add"?"Add New Role":"Edit Role"),1)]),i("form",{onSubmit:A(y,["prevent"])},[d.value.length?(n(),p("div",J,[i("ul",K,[(n(!0),p(N,null,S(d.value,(m,V)=>(n(),p("li",{key:V},g(m),1))),128))])])):C("",!0),i("div",M,[o(c,{label:"Role Name",error:a(t).errors.name},{default:l(()=>[o(b,{modelValue:a(t).name,"onUpdate:modelValue":r[0]||(r[0]=m=>a(t).name=m),placeholder:"Enter role name"},null,8,["modelValue"])]),_:1},8,["error"]),o(c,{label:"Description",error:a(t).errors.description},{default:l(()=>[o(b,{modelValue:a(t).description,"onUpdate:modelValue":r[1]||(r[1]=m=>a(t).description=m),type:"textarea",placeholder:"Enter role description",class:"h-32"},null,8,["modelValue"])]),_:1},8,["error"]),o(c,null,{default:l(()=>[i("div",q,[o(P,{checked:a(t).status,"onUpdate:checked":r[2]||(r[2]=m=>a(t).status=m)},null,8,["checked"]),r[4]||(r[4]=i("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Active",-1))])]),_:1})]),i("div",F,[o(u,{type:"button",color:"info",outline:"",label:"Back",onClick:r[3]||(r[3]=m=>v("triggerTopRightButton","lists"))}),o(u,{type:"button",color:"warning",outline:"",label:"Reset",onClick:R}),o(u,{type:"submit",color:"blue",disabled:a(t).processing,label:s.action==="Add"?"Create Role":"Update Role"},null,8,["disabled","label"])])],32)]),_:1})])]),_:1}))}};export{Kt as default};
