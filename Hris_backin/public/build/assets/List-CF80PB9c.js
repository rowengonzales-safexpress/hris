import{A as R}from"./AdminLayout-8Nvj6Q27.js";import{h as T}from"./@inertiajs-DE7H7qLl.js";import C from"./Details-BXWxTdP9.js";import{_ as D}from"./AsideDrawer-DLoyHTrP.js";import{_ as $}from"./SectionTitleLineWithButton-CvP-kldM.js";import{_ as L}from"./BaseButton-YqB03AwT.js";import{_ as F}from"./CardBox-B8VuaoGy.js";import{_ as I}from"./CoreTable.vue_vue_type_style_index_0_lang-D8LkGZdJ.js";import{_ as O}from"./app-VaUb3FJr.js";import{r as m,b as p,x as _,y as l,H as s,I as S,J as n,D as v,K as g,C as V,F as j}from"./@vue-DhfKueGL.js";import"./AdminPanelNavbar-Bdvrohd_.js";import"./BaseIcon-BVVkr6PJ.js";import"./@mdi-Ds8bXjTD.js";import"./Dropdown-5dMGiR8k.js";import"./DropdownLink-Bo-pNtpR.js";import"./axios-ngrFHoWO.js";import"./Modal.vue_vue_type_script_setup_true_lang-DpTllPHL.js";import"./FormField-Cnx0pd2b.js";import"./FormControl-C_nPUmK8.js";import"./pinia-DPcN--oA.js";import"./Footer-D5LPszYR.js";import"./qs-DlAKVIfT.js";import"./side-channel-CCwe-Ttv.js";import"./es-errors-CFxpeikN.js";import"./object-inspect-CiOUnV34.js";import"./call-bind-apply-helpers-zm886y3p.js";import"./function-bind-CHqF18-c.js";import"./side-channel-list-BCqwI4KF.js";import"./side-channel-map-Bo135rTK.js";import"./get-intrinsic-DYXGad5I.js";import"./es-object-atoms-Ditt1eQ6.js";import"./math-intrinsics-Cv-yPkyD.js";import"./gopd-fcd2-aIC.js";import"./es-define-property-bDCdrV83.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-CQl1k7Za.js";import"./dunder-proto-tAQ_MH3o.js";import"./hasown-DwiY0sux.js";import"./call-bound-DTEBmFVe.js";import"./side-channel-weakmap-DvnJlOn0.js";import"./lodash-es-BU332SBD.js";import"./moment-T1pcntrQ.js";import"./html2pdf.js-p1DVm4cu.js";import"./html2canvas-CBrSDip1.js";import"./BaseButtons--tE85GFf.js";import"./jspdf-aMcTLUx4.js";import"./@babel-Dehwj3G0.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./lodash-B2PBWGQw.js";import"./laravel-vite-plugin-DEL3ZhID.js";const H={class:"menu-list-container"},P={class:"main-content"},E={key:1,class:"text-gray-500"},J={__name:"List",props:{masterlist:{type:[Array,Object],default:()=>[]}},emits:["triggerTopRightButton"],setup(b,{emit:y}){const o=b,h=y,i=m(!1),a=m(null);m(!1);const w=p(()=>a.value&&a.value.id===0?"Add Menu":"Manage Menu"),A=p(()=>{if(console.log("Raw masterlist:",o.masterlist),!o.masterlist)return console.error("Masterlist is undefined or null"),[];let t=[];if(Array.isArray(o.masterlist)?t=o.masterlist:o.masterlist&&typeof o.masterlist=="object"&&(t=o.masterlist.data||[]),!Array.isArray(t))return console.error("Data is not an array:",t),[];const r=t.map(e=>{var c,f;if(!e)return null;const d={id:e.id||"",name:e.name||"",route:e.route||"",icon:e.icon||"",sort_order:e.sort_order||0,is_active:e.is_active||!1,app_id:e.app_id||null,parent_id:e.parent_id||null,app_name:((c=e.app)==null?void 0:c.name)||"",parent_name:((f=e.parent)==null?void 0:f.name)||"Root"};return console.log("Transformed item:",d),d}).filter(e=>e!==null);return console.log("Final transformed list:",r),r}),u=p(()=>A.value),k=t=>{a.value=t,i.value=!0},M=[{label:"Name",fieldName:"name",type:"link"},{label:"Route",fieldName:"route"},{label:"Application",fieldName:"app_name"},{label:"Parent",fieldName:"parent_name"},{label:"Order",fieldName:"sort_order"},{label:"Status",fieldName:"is_active",type:"activeinactive"}],N=()=>{a.value={id:0,name:"",route:"",icon:"",sort_order:0,is_active:!0,app_id:null,parent_id:null},i.value=!0},B=()=>{i.value=!1,a.value=null},x=(t,r)=>{i.value=!1,a.value=null,h("triggerTopRightButton",t,r)};return(t,r)=>(l(),_(j,null,[s(S(T),{title:"Menu Management"}),s(R,null,{default:n(()=>[v("div",H,[v("div",P,[s($,{icon:"mdiListBox",title:"Menus",main:""},{default:n(()=>[s(L,{onClick:N,icon:"mdiFileDocumentPlus",label:"Add Menu",color:"contrast","rounded-full":"",small:""})]),_:1}),s(F,{class:"flex-1 p-6","has-table":""},{default:n(()=>[u.value.length>0?(l(),g(I,{key:0,"table-rows":u.value,"table-header":M,"table-name":"menus","searchable-fields":"name,route,app_name,parent_name,sort_order,is_active","is-paginated":!0,onOpenLink:k},null,8,["table-rows"])):(l(),_("div",E,"Click Add Menu button to create your first record"))]),_:1})])]),s(D,{title:w.value,"is-open":i.value,onCloseDrawer:r[1]||(r[1]=e=>i.value=!1),class:"shadow-lg shadow-blue-500/50"},{default:n(()=>[a.value?(l(),g(C,{key:0,data:a.value,"is-new":a.value.id===0,onClose:r[0]||(r[0]=e=>i.value=!1),onSave:B,onTriggerTopRightButton:x},null,8,["data","is-new"])):V("",!0)]),_:1},8,["title","is-open"])]),_:1})],64))}},Je=O(J,[["__scopeId","data-v-4278a24c"]]);export{Je as default};
